// More settings at https://code.visualstudio.com/docs/remote/devcontainerjson-reference
{
	"image": "simarocchi/vscode_dbconnect:runtime8.1",
	"name": "databricks-connect runtime 8.1",

	// The optional 'runArgs' property can be used to specify additional runtime arguments. E.g.
	"runArgs": ["-u", "vscode"], 	// ,"--gpus","all"
	"runArgs": ["--init"],
	"remoteUser": "vscode",
	//"settings": {
	//	"python.pythonPath": "/opt/conda/envs/dbconnect/bin/python",
	//	"python.defaultInterpreterPath": "/opt/conda/envs/dbconnect/bin/python",
	//	"python.venvPath": "/opt/conda/envs/dbconnect/lib/python3.7/site-packages/pyspark/jars",
	//	"terminal.integrated.inheritEnv": false,
	//	"python.linting.enabled": false
	//},
	"containerEnv": {
		"DATABRICKS_ADDRESS": "https://westeurope.azuredatabricks.net", 
		"DATABRICKS_HOST": "https://westeurope.azuredatabricks.net",
		"DATABRICKS_API_TOKEN": "xxxxxxxxxxxxxxxx",
		"DATABRICKS_CLUSTER_ID": "xxxx-xxxxxx-aaaaa11",
		"DATABRICKS_ORG_ID": "xxxxxxxxxxxxxxxx", // find it after the url adb-xxx...
		"DATABRICKS_PORT": "15001" //8787 or 15001
	},
	// TODO: Perhaps not the best way to ensure git credential sharing.
	//"postCreateCommand": "sudo chmod 775 /home/vscode/.ssh/id_rsa",
	//"mounts": [
	//	"source=${localEnv:USERPROFILE}/.ssh,target=/home/vscode/.ssh,type=bind"
	//],
	"extensions": [
		"ms-python.python",
		"ms-python.vscode-pylance",
		"ms-toolsai.jupyter",
		"eamodio.gitlens"
	]
}  
